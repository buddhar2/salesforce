<!-- sldsValidatorIgnore -->
<template>
    <lightning-card variant="Narrow">
        <h2 slot="title">
            <lightning-icon icon-name="standard:task" 
                            size="small">
            </lightning-icon>
            <span class="slds-p-around_medium slds-p-left_small">Suggested Tasks</span>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <lightning-button-icon icon-name="utility:down" 
                                   variant="border-filled" 
                                   alternative-text="Show Tasks" 
                                   class="slds-p-around_xx-small" 
                                   onclick={toggleShowTasks}>
            </lightning-button-icon>
        </h2>
    </lightning-card>
    <template if:true={showSuggestedTask}>
        <lightning-datatable class="slds-p-around_large" 
                            data={tasks} 
                            columns={columns} 
                            key-field="id"
                            onrowselection={handleSuggestedRows}>
        </lightning-datatable>
        <div class="slds-p-around_small slds-align_absolute-center">
            <lightning-button label="Cancel" 
                                onclick={toggleShowTasks}></lightning-button>
            &nbsp; &nbsp;
            <lightning-button variant="brand" 
                                label="Add Tasks" 
                                disabled={isSuggestedButtonDisabled}
                                onclick={addSuggestedRecords}>
            </lightning-button>
        </div>
    </template>      
    <lightning-card variant="Narrow">
        <h2 slot="title">
            <lightning-icon icon-name="standard:task" 
                            size="small">
            </lightning-icon>
            <span class="slds-p-around_medium slds-p-left_small">Other Tasks</span>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            <lightning-button-icon icon-name="utility:down" 
                                   variant="border-filled" 
                                   alternative-text="Other Tasks" 
                                   class="slds-p-around_xx-small" 
                                   onclick={toggleOtherTasks}>
            </lightning-button-icon>
        </h2>
    </lightning-card>
    <template if:true={showOtherTask}>
        <lightning-datatable class="slds-p-around_large" 
                            data={otherTasks} 
                            columns={columns} 
                            key-field="id"
                            onrowselection={handleOtherRows}>
        </lightning-datatable>
        <div class="slds-p-around_small slds-align_absolute-center">
            <lightning-button label="Cancel" 
                                onclick={toggleOtherTasks}></lightning-button>
            &nbsp; &nbsp;
            <lightning-button variant="brand" 
                                label="Add Tasks" 
                                disabled={isOtherButtonDisabled}
                                onclick={addOtherRecords}>
            </lightning-button>
        </div>
    </template>
    <lightning-card variant="Narrow">
        <h2 slot="title">
            <lightning-icon icon-name="standard:task" 
                            size="small">
            </lightning-icon>
            <span class="slds-p-around_medium slds-p-left_small">New Training Task </span>
            &nbsp; &nbsp; &nbsp; &nbsp;
            <lightning-button-icon icon-name="utility:add" 
                                    variant="border-filled" 
                                    alternative-text="Add Task" 
                                    class="slds-p-around_xx-small" 
                                    onclick={toggleCreateTask}>
            </lightning-button-icon>
        </h2>
    </lightning-card>   
    <template if:true={createTask}>
        <div>
            <div class="slds-p-around_large slds-align_absolute-center slds-text-heading_medium">
                New Training Task
            </div>
            <lightning-record-edit-form class="slds-p-around_large" 
                                        object-api-name="Training_Task__c"
                                        onsuccess={handleSave}>
                <lightning-input-field field-name="Name"></lightning-input-field>
                <lightning-input-field field-name="Description__c"></lightning-input-field>
                <lightning-input-field field-name="Category__c" value={category}></lightning-input-field>
                <lightning-input-field field-name="Effort_In_Days__c"></lightning-input-field>
                <lightning-input-field field-name="Task_URL__c"></lightning-input-field>
                <lightning-input-field field-name="Submission__c"></lightning-input-field>
                <div class="slds-var-m-top_medium slds-align_absolute-center">
                    <lightning-button variant="brand" type="submit" label="Save">
                    </lightning-button>
                </div>
            </lightning-record-edit-form>
        </div>
    </template>
</template>